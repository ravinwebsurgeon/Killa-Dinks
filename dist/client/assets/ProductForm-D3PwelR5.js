import{j as s}from"./jsx-runtime-Dt5Dsy05.js";import{I as d}from"./Image-DLSwqI1b.js";import{a as e,M as l}from"./index-DAtz4MM6.js";import{u as c}from"./ProductPrice-N-WSZsmw.js";import{L as u}from"./components-1kEx_GL1.js";function b({image:r}){return r?s.jsx("div",{className:"product-image",children:s.jsx(d,{alt:r.altText||"Product Image",aspectRatio:"1/1",data:r,sizes:"(min-width: 45em) 50vw, 100vw"},r.id)}):s.jsx("div",{className:"product-image"})}function m({analytics:r,children:t,disabled:n,lines:o,onClick:i}){return s.jsx(e,{route:"/cart",inputs:{lines:o},action:e.ACTIONS.LinesAdd,children:a=>s.jsxs(s.Fragment,{children:[s.jsx("input",{name:"analytics",type:"hidden",value:JSON.stringify(r)}),s.jsx("button",{type:"submit",onClick:i,disabled:n??a.state!=="idle",children:t})]})})}function N({product:r,selectedVariant:t,variants:n}){const{open:o}=c();return s.jsxs("div",{className:"product-form",children:[s.jsx(l,{handle:r.handle,options:r.options.filter(i=>i.optionValues.length>1),variants:n,children:({option:i})=>s.jsx(p,{option:i},i.name)}),s.jsx("br",{}),s.jsx(m,{disabled:!t||!t.availableForSale,onClick:()=>{o("cart")},lines:t?[{merchandiseId:t.id,quantity:1,selectedVariant:t}]:[],children:t!=null&&t.availableForSale?"Add to cart":"Sold out"})]})}function p({option:r}){return s.jsxs("div",{className:"product-options",children:[s.jsx("h5",{children:r.name}),s.jsx("div",{className:"product-options-grid",children:r.values.map(({value:t,isAvailable:n,isActive:o,to:i})=>s.jsx(u,{className:"product-options-item",prefetch:"intent",preventScrollReset:!0,replace:!0,to:i,style:{border:o?"1px solid black":"1px solid transparent",opacity:n?1:.3},children:t},r.name+t))}),s.jsx("br",{})]},r.name)}export{b as P,N as a};
