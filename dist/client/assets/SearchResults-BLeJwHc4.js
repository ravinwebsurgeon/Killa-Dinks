import{r as o,j as e}from"./jsx-runtime-Dt5Dsy05.js";import{F as x,L as c}from"./components-1kEx_GL1.js";import{z as j}from"./index-DAtz4MM6.js";import{u as d}from"./search-DOeYwaXi.js";import{I as f}from"./Image-DLSwqI1b.js";import{M as v}from"./Money-D-ynzVoa.js";function U({children:t,...r}){const n=o.useRef(null);return k(n),typeof t!="function"?null:e.jsx(x,{method:"get",...r,children:t({inputRef:n})})}function k(t){o.useEffect(()=>{function r(n){var s,i;n.key==="k"&&n.metaKey&&(n.preventDefault(),(s=t.current)==null||s.focus()),n.key==="Escape"&&((i=t.current)==null||i.blur())}return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[t])}function l({term:t,result:r,children:n}){return r!=null&&r.total?n({...r.items,term:t}):null}l.Articles=P;l.Pages=y;l.Products=b;l.Empty=g;function P({term:t,articles:r}){var n;return r!=null&&r.nodes.length?e.jsxs("div",{className:"search-result",children:[e.jsx("h2",{children:"Articles"}),e.jsx("div",{children:(n=r==null?void 0:r.nodes)==null?void 0:n.map(s=>{const i=d({baseUrl:`/blogs/${s.handle}`,trackingParams:s.trackingParameters,term:t});return e.jsx("div",{className:"search-results-item",children:e.jsx(c,{prefetch:"intent",to:i,children:s.title})},s.id)})}),e.jsx("br",{})]}):null}function y({term:t,pages:r}){var n;return r!=null&&r.nodes.length?e.jsxs("div",{className:"search-result",children:[e.jsx("h2",{children:"Pages"}),e.jsx("div",{children:(n=r==null?void 0:r.nodes)==null?void 0:n.map(s=>{const i=d({baseUrl:`/pages/${s.handle}`,trackingParams:s.trackingParameters,term:t});return e.jsx("div",{className:"search-results-item",children:e.jsx(c,{prefetch:"intent",to:i,children:s.title})},s.id)})}),e.jsx("br",{})]}):null}function b({term:t,products:r}){return r!=null&&r.nodes.length?e.jsxs("div",{className:"search-result",children:[e.jsx("h2",{children:"Products"}),e.jsx(j,{connection:r,children:({nodes:n,isLoading:s,NextLink:i,PreviousLink:h})=>{const m=n.map(a=>{const u=d({baseUrl:`/products/${a.handle}`,trackingParams:a.trackingParameters,term:t});return e.jsx("div",{className:"search-results-item",children:e.jsxs(c,{prefetch:"intent",to:u,children:[a.variants.nodes[0].image&&e.jsx(f,{data:a.variants.nodes[0].image,alt:a.title,width:50}),e.jsxs("div",{children:[e.jsx("p",{children:a.title}),e.jsx("small",{children:e.jsx(v,{data:a.variants.nodes[0].price})})]})]})},a.id)});return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(h,{children:s?"Loading...":e.jsx("span",{children:"↑ Load previous"})})}),e.jsxs("div",{children:[m,e.jsx("br",{})]}),e.jsx("div",{children:e.jsx(i,{children:s?"Loading...":e.jsx("span",{children:"Load more ↓"})})})]})}}),e.jsx("br",{})]}):null}function g(){return e.jsx("p",{children:"No results, try a different search."})}export{U as S,l as a};
